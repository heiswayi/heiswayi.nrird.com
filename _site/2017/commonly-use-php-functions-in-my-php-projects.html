<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" class="no-js" itemscope itemtype="http://schema.org/WebPage"><link href="http://gmpg.org/xfn/11" rel="profile"><meta charset="UTF-8"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><title> Commonly use PHP functions or code snippets in my PHP projects · heiswayi nrird •••</title><meta name="description" content=" A compilation of some commonly use PHP functions or code snippets that I have been using for most of my PHP projects. "/><meta name="keywords" content="php, commonly use php functions, php code snippets, php projects, compilation of code snippets, helpful php functions"><meta name="author" content="Heiswayi Nrird"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta property="og:type" content="article"><meta property="article:author" content="Heiswayi Nrird"><meta property="article:section" content=""><meta property="article:tag" content="php, commonly use php functions, php code snippets, php projects, compilation of code snippets, helpful php functions"><meta property="article:published_time" content="2017-02-11 00:00:00 +0800"><meta property="og:url" content="https://heiswayi.nrird.com/2017/commonly-use-php-functions-in-my-php-projects"><meta property="og:title" content=" Commonly use PHP functions or code snippets in my PHP projects · heiswayi nrird ••• "><meta property="og:image" content="https://heiswayi.nrird.com/assets/logo.png"><meta property="og:description" content=" A compilation of some commonly use PHP functions or code snippets that I have been using for most of my PHP projects. "><meta property="og:site_name" content="Heiswayi Nrird"><meta property="og:locale" content="en_US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@heiswayi"><meta name="twitter:title" content=" Commonly use PHP functions or code snippets in my PHP projects · heiswayi nrird ••• "><meta name="twitter:description" content=" A compilation of some commonly use PHP functions or code snippets that I have been using for most of my PHP projects. "><meta name="twitter:image:src" content="https://heiswayi.nrird.com/assets/logo.png"><meta itemprop="name" content=" Commonly use PHP functions or code snippets in my PHP projects · heiswayi nrird ••• "><meta itemprop="description" content=" A compilation of some commonly use PHP functions or code snippets that I have been using for most of my PHP projects. "><meta itemprop="image" content="https://heiswayi.nrird.com/assets/logo.png"><link rel="canonical" href="https://heiswayi.nrird.com/2017/commonly-use-php-functions-in-my-php-projects"><link rel="alternate" type="application/rss+xml" title="RSS" href="https://heiswayi.nrird.com/feed.xml"><link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgo="><link rel="stylesheet" href="https://heiswayi.nrird.com/assets/css/main.css?20180603"> <script src="https://heiswayi.nrird.com/assets/js/modernizr.custom.js"></script> <!--[if lt IE 9]> <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script> <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.1.0/respond.min.js"></script> <script src="https://heiswayi.nrird.com/assets/js/rem.min.js"></script> <![endif]--> <a href="#content" class="skip">Skip to content</a><div class="wrap"><div class="masthead"> <canvas id="canvas" style="width:100%;height:100%;max-height:230px;position:absolute;z-index:1;opacity:0.5"></canvas><div class="container"><h2 class="masthead-title"> <a href="https://heiswayi.nrird.com" title="heiswayi nrird •••" class="title">heiswayi nrird <span class="dot-red">•</span><span class="dot-yellow">•</span><span class="dot-green">•</span></a> <small>Between coding and random stuffs </small></h2><div class="footer-social-links"> <a href="http://heiswayi.github.io/feed.xml" title="RSS Feed" target="_blank"><i class="fa fa-rss"></i></a> <a href="https://my.linkedin.com/in/nrird" title="LinkedIn" target="_blank"><i class="fa fa-linkedin"></i></a> <!--<a href="https://www.facebook.com/heiswayi.nrird" title="Facebook" target="_blank"><i class="fa fa-facebook"></i></a>--> <!--<a href="https://twitter.com/HeiswayiNrird" title="Twitter" target="_blank"><i class="fa fa-twitter"></i></a>--> <a href="http://heiswayi.github.io/my-repos/" title="GitHub Repositories" target="_blank"><i class="fa fa-github-alt"></i></a> <a href="http://heiswayi.github.io/my-gists/" title="GitHub Gists" target="_blank"><i class="fa fa-code"></i></a> <a href="http://codepen.io/heiswayi/" title="CodePen" target="_blank"><i class="fa fa-codepen"></i></a> <a href="https://instagram.com/heiswayi.nrird/" title="Instagram" target="_blank"><i class="fa fa-instagram"></i></a> <a href="http://jsfiddle.net/user/heiswayi/" title="JSFiddle" target="_blank"><i class="fa fa-jsfiddle"></i></a></div><div class="nav"><ul class="top-menu"><li><a href="https://heiswayi.nrird.com/" title="Home"><i class="fa fa-home"></i></a><li><a href="https://heiswayi.nrird.com/about">About</a> <!--<li><a href="/resume">Resume <i class="fa fa-external-link-square"></i></a>--><li><a href="https://heiswayi.nrird.com/projects" class="bg-red"><i class="fa fa-space-shuttle" aria-hidden="true"></i> Projects</a><li><a href="https://heiswayi.nrird.com/tagged">Tags</a><li><a href="https://heiswayi.github.io/photography">Photography <i class="fa fa-external-link-square"></i></a><li><a href="https://heiswayi.nrird.com/reminder">Reminder</a></ul></div></div></div><div id="content" class="container content"><div class="post"><div class="post-top-meta"> <!--<div class="edit-this-page"><a href="https://github.com/heiswayi/heiswayi.github.io/blob/master/_posts/2017/2017-02-11-commonly-use-php-functions-in-my-php-projects.md">Edit this page</a></div>--><div class="post-date">February 11, 2017</div><h1 class="post-title">Commonly use PHP functions or code snippets in my PHP projects</h1></div><p>Few years ago, I have been actively developing web applications in PHP and some of my old PHP project source code are backed up on my <a href="https://github.com/heiswayi">GitHub</a>. Within that period, I have been using these PHP custom functions for most of my PHP projects. Some of these code snippets are created by my own to suit my development requirements.<h3 id="hash-user-password">Hash user password</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">hashUserPassword</span><span class="p">(</span><span class="nv">$salt</span><span class="p">,</span> <span class="nv">$password</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="s2">"SHA512"</span><span class="p">,</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nb">str_rot13</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="s2">"SHA512"</span><span class="p">,</span> <span class="nb">str_rot13</span><span class="p">(</span><span class="nv">$salt</span> <span class="o">.</span> <span class="nv">$password</span><span class="p">)))));</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="working-with-string-inputs-in-secure-manner">Working with string inputs in secure manner</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">// HTML encode string
</span><span class="k">function</span> <span class="nf">htmlEncodeString</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span> <span class="nx">ENT_QUOTES</span><span class="p">,</span> <span class="s1">'UTF-8'</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Trim whitespace including non-breaking space.
</span><span class="k">function</span> <span class="nf">trimString</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span> <span class="nv">$charlist</span> <span class="o">=</span> <span class="s2">" </span><span class="se">\t\n\r\0\x0B\xC2\xA0</span><span class="s2">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">utf8_trim</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span> <span class="nv">$charlist</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Convert \r\n and \r to \n
</span><span class="k">function</span> <span class="nf">linebreakString</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">str_replace</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">,</span>
        <span class="s2">"</span><span class="se">\r</span><span class="s2">"</span>
    <span class="p">),</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$str</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Only accepts alphanumeric and underscore characters.
</span><span class="k">function</span> <span class="nf">isValidUsername</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">preg_match</span><span class="p">(</span><span class="s1">'/^[a-zA-Z0-9_]+$/'</span><span class="p">,</span> <span class="nv">$str</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Only accepts alphanumeric, underscore, dash, dot and whitespace characters.
</span><span class="k">function</span> <span class="nf">isStandardCharacters</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">preg_match</span><span class="p">(</span><span class="s1">'/^[a-zA-Z0-9_\-\.\s]+$/'</span><span class="p">,</span> <span class="nv">$str</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Save string input from textarea for address with new line format.
</span><span class="k">function</span> <span class="nf">address</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">nl2br</span><span class="p">(</span><span class="nb">stripslashes</span><span class="p">(</span><span class="nb">rtrim</span><span class="p">(</span><span class="nv">$str</span><span class="p">)));</span>
<span class="p">}</span>

<span class="c1">// Normalize string.
</span><span class="k">function</span> <span class="nf">normalize</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nb">rtrim</span><span class="p">(</span><span class="nv">$str</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// Sanitize string.
</span><span class="k">function</span> <span class="nf">sanitize</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nb">rtrim</span><span class="p">(</span><span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$string</span><span class="p">)));</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="get-gravatar">Get Gravatar</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">getGravatar</span><span class="p">(</span><span class="nv">$email</span><span class="p">,</span> <span class="nv">$default</span> <span class="o">=</span> <span class="s1">'retro'</span><span class="p">,</span> <span class="nv">$size</span> <span class="o">=</span> <span class="s1">'50'</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">"http://www.gravatar.com/avatar/"</span> <span class="o">.</span> <span class="nb">md5</span><span class="p">(</span><span class="nb">strtolower</span><span class="p">(</span><span class="nb">trim</span><span class="p">(</span><span class="nv">$email</span><span class="p">)))</span> <span class="o">.</span> <span class="s2">"?d="</span> <span class="o">.</span> <span class="nb">urlencode</span><span class="p">(</span><span class="nv">$default</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"&amp;s="</span> <span class="o">.</span> <span class="nv">$size</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="get-ip-address">Get IP Address</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">getIp</span><span class="p">()</span> <span class="p">{</span>
    <span class="nv">$ipaddress</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_CLIENT_IP'</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nv">$ipaddress</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_CLIENT_IP'</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_X_FORWARDED_FOR'</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nv">$ipaddress</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_X_FORWARDED_FOR'</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'REMOTE_ADDR'</span><span class="p">])</span> <span class="p">{</span>
        <span class="nv">$ipaddress</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'REMOTE_ADDR'</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nv">$ipaddress</span> <span class="o">=</span> <span class="s1">'UNKNOWN'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nv">$ipaddress</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="get-current-page-url">Get current page URL</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">getCurrentPageUrl</span><span class="p">()</span> <span class="p">{</span>
    <span class="nv">$s</span>        <span class="o">=</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">"HTTPS"</span><span class="p">])</span> <span class="o">?</span> <span class="s1">''</span> <span class="o">:</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">"HTTPS"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"on"</span><span class="p">)</span> <span class="o">?</span> <span class="s2">"s"</span> <span class="o">:</span> <span class="s2">""</span><span class="p">;</span>
    <span class="nv">$protocol</span> <span class="o">=</span> <span class="nb">substr</span><span class="p">(</span><span class="nb">strtolower</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">"SERVER_PROTOCOL"</span><span class="p">]),</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">strpos</span><span class="p">(</span><span class="nb">strtolower</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">"SERVER_PROTOCOL"</span><span class="p">]),</span> <span class="s2">"/"</span><span class="p">))</span> <span class="o">.</span> <span class="nv">$s</span><span class="p">;</span>
    <span class="nv">$port</span>     <span class="o">=</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">"SERVER_PORT"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"80"</span><span class="p">)</span> <span class="o">?</span> <span class="s2">""</span> <span class="o">:</span> <span class="p">(</span><span class="s2">":"</span> <span class="o">.</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">"SERVER_PORT"</span><span class="p">]);</span>
    <span class="k">return</span> <span class="nv">$protocol</span> <span class="o">.</span> <span class="s2">"://"</span> <span class="o">.</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'SERVER_NAME'</span><span class="p">]</span> <span class="o">.</span> <span class="nv">$port</span> <span class="o">.</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'REQUEST_URI'</span><span class="p">];</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="convert-timestamp-to-time-ago-style">Convert timestamp to time-ago style</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">timeAgo</span><span class="p">(</span><span class="nv">$timestamp</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$timestamp</span>    <span class="o">=</span> <span class="p">(</span><span class="nx">int</span><span class="p">)</span> <span class="nv">$timestamp</span><span class="p">;</span>
    <span class="nv">$current_time</span> <span class="o">=</span> <span class="nb">time</span><span class="p">();</span>
    <span class="nv">$diff</span>         <span class="o">=</span> <span class="nv">$current_time</span> <span class="o">-</span> <span class="nv">$timestamp</span><span class="p">;</span>
    <span class="nv">$intervals</span>    <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'year'</span> <span class="o">=&gt;</span> <span class="mi">31556926</span><span class="p">,</span>
        <span class="s1">'month'</span> <span class="o">=&gt;</span> <span class="mi">2629744</span><span class="p">,</span>
        <span class="s1">'week'</span> <span class="o">=&gt;</span> <span class="mi">604800</span><span class="p">,</span>
        <span class="s1">'day'</span> <span class="o">=&gt;</span> <span class="mi">86400</span><span class="p">,</span>
        <span class="s1">'hour'</span> <span class="o">=&gt;</span> <span class="mi">3600</span><span class="p">,</span>
        <span class="s1">'minute'</span> <span class="o">=&gt;</span> <span class="mi">60</span>
    <span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$diff</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'just now'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$diff</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$diff</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' second ago'</span> <span class="o">:</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' seconds ago'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$diff</span> <span class="o">&gt;=</span> <span class="mi">60</span> <span class="o">&amp;&amp;</span> <span class="nv">$diff</span> <span class="o">&lt;</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'hour'</span><span class="p">])</span> <span class="p">{</span>
        <span class="nv">$diff</span> <span class="o">=</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$diff</span> <span class="o">/</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'minute'</span><span class="p">]);</span>
        <span class="k">return</span> <span class="nv">$diff</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' minute ago'</span> <span class="o">:</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' minutes ago'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$diff</span> <span class="o">&gt;=</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'hour'</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nv">$diff</span> <span class="o">&lt;</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'day'</span><span class="p">])</span> <span class="p">{</span>
        <span class="nv">$diff</span> <span class="o">=</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$diff</span> <span class="o">/</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'hour'</span><span class="p">]);</span>
        <span class="k">return</span> <span class="nv">$diff</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' hour ago'</span> <span class="o">:</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' hours ago'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$diff</span> <span class="o">&gt;=</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'day'</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nv">$diff</span> <span class="o">&lt;</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'week'</span><span class="p">])</span> <span class="p">{</span>
        <span class="nv">$diff</span> <span class="o">=</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$diff</span> <span class="o">/</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'day'</span><span class="p">]);</span>
        <span class="k">return</span> <span class="nv">$diff</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' day ago'</span> <span class="o">:</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' days ago'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$diff</span> <span class="o">&gt;=</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'week'</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nv">$diff</span> <span class="o">&lt;</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'month'</span><span class="p">])</span> <span class="p">{</span>
        <span class="nv">$diff</span> <span class="o">=</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$diff</span> <span class="o">/</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'week'</span><span class="p">]);</span>
        <span class="k">return</span> <span class="nv">$diff</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' week ago'</span> <span class="o">:</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' weeks ago'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$diff</span> <span class="o">&gt;=</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'month'</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nv">$diff</span> <span class="o">&lt;</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'year'</span><span class="p">])</span> <span class="p">{</span>
        <span class="nv">$diff</span> <span class="o">=</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$diff</span> <span class="o">/</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'month'</span><span class="p">]);</span>
        <span class="k">return</span> <span class="nv">$diff</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' month ago'</span> <span class="o">:</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' months ago'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$diff</span> <span class="o">&gt;=</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'year'</span><span class="p">])</span> <span class="p">{</span>
        <span class="nv">$diff</span> <span class="o">=</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$diff</span> <span class="o">/</span> <span class="nv">$intervals</span><span class="p">[</span><span class="s1">'year'</span><span class="p">]);</span>
        <span class="k">return</span> <span class="nv">$diff</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' year ago'</span> <span class="o">:</span> <span class="nv">$diff</span> <span class="o">.</span> <span class="s1">' years ago'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="create-html-anchor-to-url-mention-and-hashtag">Create HTML anchor to URL, @mention and #hashtag</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">// Make URL, #mention, #hashtag clickable.
</span><span class="k">function</span> <span class="nf">makeClickable</span><span class="p">(</span><span class="nv">$input</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$output</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">'/(?i)\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()&lt;&gt;]+|\(([^\s()&lt;&gt;]+|(\([^\s()&lt;&gt;]+\)))*\))+(?:\(([^\s()&lt;&gt;]+|(\([^\s()&lt;&gt;]+\)))*\)|[^\s`!()\[\]{};:\'".,&lt;&gt;?«»“”‘’]))/'</span><span class="p">,</span>
        <span class="s1">'/(^|[^a-z0-9_])@([a-z0-9_]+)/i'</span><span class="p">,</span>
        <span class="s1">'/(^|[^a-z0-9_])#([a-z0-9_]+)/i'</span>
    <span class="p">),</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'&lt;a href="$1" target="_blank" rel="nofollow"&gt;$1&lt;/a&gt;'</span><span class="p">,</span>
        <span class="s1">' &lt;a href="profile.php?user=$2" target="_blank" rel="nofollow"&gt;@$2&lt;/a&gt;'</span><span class="p">,</span>
        <span class="s1">' &lt;a href="hashtag.php?tag=$2" target="_blank" rel="nofollow"&gt;#$2&lt;/a&gt;'</span>
    <span class="p">),</span> <span class="nv">$input</span><span class="p">);</span>
    <span class="k">return</span> <span class="nv">$output</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="bb-code-style-emoticons-conversion">BB code style, emoticons conversion</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">// (.*?) is a search pattern, will match with emoticon image filename.
</span><span class="k">function</span> <span class="nf">bbCode</span><span class="p">(</span><span class="nv">$var</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$search</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'/\[\:s(.*?)\:\]/is'</span><span class="p">,</span>
        <span class="s1">'/\[\:t(.*?)\:\]/is'</span><span class="p">,</span>
        <span class="s1">'/\[\:o(.*?)\:\]/is'</span><span class="p">,</span>
        <span class="s1">'/\[\:c(.*?)\:\]/is'</span>
    <span class="p">);</span>

    <span class="nv">$replace</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'&lt;img src="img/smileys/s$1.png"&gt;'</span><span class="p">,</span>
        <span class="s1">'&lt;img src="img/tuzkiclub/t$1.gif"&gt;'</span><span class="p">,</span>
        <span class="s1">'&lt;img src="img/onionclub/o$1.gif"&gt;'</span><span class="p">,</span>
        <span class="s1">'&lt;img src="img/cutes/c$1.gif"&gt;'</span>
    <span class="p">);</span>

    <span class="nv">$result</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="nv">$search</span><span class="p">,</span> <span class="nv">$replace</span><span class="p">,</span> <span class="nv">$var</span><span class="p">);</span>
    <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="generate-or-get-random-key">Generate or get random key</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">// $len is a length of the random key.
</span><span class="k">function</span> <span class="nf">getRandomKey</span><span class="p">(</span><span class="nv">$len</span><span class="p">,</span> <span class="nv">$readable</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="nv">$hash</span> <span class="o">=</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$key</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nv">$hash</span><span class="p">)</span>
        <span class="nv">$key</span> <span class="o">=</span> <span class="nb">substr</span><span class="p">(</span><span class="nb">sha1</span><span class="p">(</span><span class="nb">uniqid</span><span class="p">(</span><span class="nb">rand</span><span class="p">(),</span> <span class="kc">true</span><span class="p">)),</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">$len</span><span class="p">);</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$readable</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$chars</span> <span class="o">=</span> <span class="s1">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$len</span><span class="p">;</span> <span class="o">++</span><span class="nv">$i</span><span class="p">)</span>
            <span class="nv">$key</span> <span class="o">.=</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$chars</span><span class="p">,</span> <span class="p">(</span><span class="nb">mt_rand</span><span class="p">()</span> <span class="o">%</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$chars</span><span class="p">)),</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span>
        <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$len</span><span class="p">;</span> <span class="o">++</span><span class="nv">$i</span><span class="p">)</span>
            <span class="nv">$key</span> <span class="o">.=</span> <span class="nb">chr</span><span class="p">(</span><span class="nb">mt_rand</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span> <span class="mi">126</span><span class="p">));</span>

    <span class="k">return</span> <span class="nv">$key</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="truncate-a-long-text">Truncate a long text</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">// $length = 0 will retain the original text length.
</span><span class="k">function</span> <span class="nf">truncateLongText</span><span class="p">(</span><span class="nv">$text</span><span class="p">,</span> <span class="nv">$length</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$text</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nv">$length</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$tmp</span> <span class="o">=</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$text</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">$length</span><span class="p">);</span>
        <span class="nv">$tmp</span> <span class="o">=</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$tmp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">strrpos</span><span class="p">(</span><span class="nv">$tmp</span><span class="p">,</span> <span class="s1">' '</span><span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$tmp</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nv">$length</span> <span class="o">-</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$tmp</span> <span class="o">=</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$tmp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">strrpos</span><span class="p">(</span><span class="nv">$tmp</span><span class="p">,</span> <span class="s1">' '</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="nv">$text</span> <span class="o">=</span> <span class="nv">$tmp</span> <span class="o">.</span> <span class="s1">'...'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nv">$text</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="generate-or-get-random-password">Generate or get random password</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">generateRandomPassword</span><span class="p">(</span><span class="nv">$length</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="nv">$strength</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$vowels</span>     <span class="o">=</span> <span class="s1">'aeuy'</span><span class="p">;</span>
    <span class="nv">$consonants</span> <span class="o">=</span> <span class="s1">'bdghjmnpqrstvz'</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$strength</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$consonants</span> <span class="o">.=</span> <span class="s1">'BDGHJLMNPQRSTVWXZ'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$strength</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$vowels</span> <span class="o">.=</span> <span class="s2">"AEUY"</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$strength</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$consonants</span> <span class="o">.=</span> <span class="s1">'23456789'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$strength</span> <span class="o">&gt;=</span> <span class="mi">8</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$vowels</span> <span class="o">.=</span> <span class="s1">'@#$%'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nv">$password</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
    <span class="nv">$alt</span>      <span class="o">=</span> <span class="nb">time</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$length</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$alt</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$password</span> <span class="o">.=</span> <span class="nv">$consonants</span><span class="p">[(</span><span class="nb">rand</span><span class="p">()</span> <span class="o">%</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$consonants</span><span class="p">))];</span>
            <span class="nv">$alt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nv">$password</span> <span class="o">.=</span> <span class="nv">$vowels</span><span class="p">[(</span><span class="nb">rand</span><span class="p">()</span> <span class="o">%</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$vowels</span><span class="p">))];</span>
            <span class="nv">$alt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nv">$password</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="auto-link">Auto-link</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">autolink</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="nv">$strip_tags</span> <span class="o">=</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$strip_tags</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$message</span> <span class="o">=</span> <span class="nb">strip_tags</span><span class="p">(</span><span class="nv">$message</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Convert all URLs to clickable links
</span>    <span class="nv">$message</span>     <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">'#([s|^])(www)#i'</span><span class="p">,</span> <span class="s1">'$1http://$2'</span><span class="p">,</span> <span class="nv">$message</span><span class="p">);</span>
    <span class="nv">$pattern</span>     <span class="o">=</span> <span class="s1">'#((http|https|ftp|telnet|news|gopher|file|wais)://[^s]+)#i'</span><span class="p">;</span>
    <span class="nv">$replacement</span> <span class="o">=</span> <span class="s1">'&lt;a href="$1" target="_blank"&gt;$1&lt;/a&gt;'</span><span class="p">;</span>
    <span class="nv">$message</span>     <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="nv">$pattern</span><span class="p">,</span> <span class="nv">$replacement</span><span class="p">,</span> <span class="nv">$message</span><span class="p">);</span>

    <span class="c1">// Convert all email matches to appropriate HTML links
</span>    <span class="nv">$pattern</span> <span class="o">=</span> <span class="s1">'#([0-9a-z]([-_.]?[0-9a-z])*@[0-9a-z]([-.]?[0-9a-z])*\.'</span><span class="p">;</span>
    <span class="nv">$pattern</span> <span class="o">.=</span> <span class="s1">'[a-wyz][a-z](fo|g|l|m|mes|o|op|pa|ro|seum|t|u|v|z)?)#i'</span><span class="p">;</span>
    <span class="nv">$replacement</span> <span class="o">=</span> <span class="s1">'&lt;a href="mailto:\1"&gt;\1&lt;/a&gt;'</span><span class="p">;</span>
    <span class="nv">$message</span>     <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="nv">$pattern</span><span class="p">,</span> <span class="nv">$replacement</span><span class="p">,</span> <span class="nv">$message</span><span class="p">);</span>
    <span class="k">return</span> <span class="nv">$message</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="check-if-the-url-is-a-valid-url">Check if the URL is a valid URL</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">isValidUrl</span><span class="p">(</span><span class="nv">$url</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$regex</span> <span class="o">=</span> <span class="s2">"((https?|ftp)\:\/\/)?"</span><span class="p">;</span> <span class="c1">// Scheme
</span>    <span class="nv">$regex</span> <span class="o">.=</span> <span class="s2">"([a-z0-9+!*(),;?&amp;=</span><span class="se">\$</span><span class="s2">_.-]+(\:[a-z0-9+!*(),;?&amp;=</span><span class="se">\$</span><span class="s2">_.-]+)?@)?"</span><span class="p">;</span> <span class="c1">// User and Pass
</span>    <span class="nv">$regex</span> <span class="o">.=</span> <span class="s2">"([a-z0-9-.]*)\.([a-z]</span><span class="si">{</span><span class="nv">2,3</span><span class="si">}</span><span class="s2">)"</span><span class="p">;</span> <span class="c1">// Host or IP
</span>    <span class="nv">$regex</span> <span class="o">.=</span> <span class="s2">"(\:[0-9]</span><span class="si">{</span><span class="nv">2,5</span><span class="si">}</span><span class="s2">)?"</span><span class="p">;</span> <span class="c1">// Port
</span>    <span class="nv">$regex</span> <span class="o">.=</span> <span class="s2">"(\/([a-z0-9+</span><span class="se">\$</span><span class="s2">_-]\.?)+)*\/?"</span><span class="p">;</span> <span class="c1">// Path
</span>    <span class="nv">$regex</span> <span class="o">.=</span> <span class="s2">"(\?[a-z+&amp;</span><span class="se">\$</span><span class="s2">_.-][a-z0-9;:@&amp;%=+\/</span><span class="se">\$</span><span class="s2">_.-]*)?"</span><span class="p">;</span> <span class="c1">// GET Query
</span>    <span class="nv">$regex</span> <span class="o">.=</span> <span class="s2">"(#[a-z_.-][a-z0-9+</span><span class="se">\$</span><span class="s2">_.-]*)?"</span><span class="p">;</span> <span class="c1">// Anchor
</span>    <span class="k">return</span> <span class="nb">preg_match</span><span class="p">(</span><span class="s2">"/^</span><span class="nv">$regex</span><span class="s2">$/"</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id="simple-string-encryption-and-decryption">Simple string encryption and decryption</h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">// Encrypt a plain string.
</span><span class="k">function</span> <span class="nf">encryptString</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nb">mcrypt_encrypt</span><span class="p">(</span><span class="nx">MCRYPT_RIJNDAEL_256</span><span class="p">,</span> <span class="nb">md5</span><span class="p">(</span><span class="nv">$key</span><span class="p">),</span> <span class="nv">$string</span><span class="p">,</span> <span class="nx">MCRYPT_MODE_CBC</span><span class="p">,</span> <span class="nb">md5</span><span class="p">(</span><span class="nb">md5</span><span class="p">(</span><span class="nv">$key</span><span class="p">))));</span>
<span class="p">}</span>

<span class="c1">// Decrypt an encrypted string.
</span><span class="k">function</span> <span class="nf">decryptString</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">rtrim</span><span class="p">(</span><span class="nb">mcrypt_decrypt</span><span class="p">(</span><span class="nx">MCRYPT_RIJNDAEL_256</span><span class="p">,</span> <span class="nb">md5</span><span class="p">(</span><span class="nv">$key</span><span class="p">),</span> <span class="nb">base64_decode</span><span class="p">(</span><span class="nv">$string</span><span class="p">),</span> <span class="nx">MCRYPT_MODE_CBC</span><span class="p">,</span> <span class="nb">md5</span><span class="p">(</span><span class="nb">md5</span><span class="p">(</span><span class="nv">$key</span><span class="p">))),</span> <span class="s2">"</span><span class="se">\0</span><span class="s2">"</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="tagged"> <a href="https://heiswayi.nrird.com/tagged#php"><i class="fa fa-hashtag muted" aria-hidden="true"></i>PHP</a></div><div id="disqus" style="margin-top:2em"><div id="disqus_thread"></div><script> var disqus_config = function() { this.page.url = "https://heiswayi.nrird.com/2017/commonly-use-php-functions-in-my-php-projects"; this.page.identifier = "/2017/commonly-use-php-functions-in-my-php-projects"; }; (function() { var d = document, s = d.createElement('script'); s.src = '//hnbloggithub.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></div><div class="footer"><div class="copyright"><i class="fa fa-copyright"></i> 2015 - 2018 Heiswayi Nrird // <a href="https://heiswayi.nrird.com/cookie-policy">Cookie Policy</a> // <a href="https://heiswayi.github.io/feed.xml">RSS</a></div></div><script> // Line numbering for code block (function() { var pre = document.getElementsByTagName('pre'), pl = pre.length; for (var i = 0; i < pl; i++) { pre[i].innerHTML = '<span class="line-number"></span>' + pre[i].innerHTML + '<span class="cl"></span>'; var num = pre[i].innerHTML.split(/\n/).length; for (var j = 0; j < (num - 1); j++) { var line_num = pre[i].getElementsByTagName('span')[0]; line_num.innerHTML += '<span>' + (j + 1) + '</span>'; } } })(); </script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-58296043-7', 'auto'); ga('send', 'pageview'); </script>
