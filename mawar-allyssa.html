<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" itemscope itemtype="http://schema.org/WebPage">

<head>

	<link href="http://gmpg.org/xfn/11" rel="profile">
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="Expires" content="30">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta http-equiv="refresh" content="30" />
	<title>Mawar Allyssa - Random Shapes - Keyboard Smashing - 2020</title>  

	<style>
		* {
			margin: 0;
			padding: 0;
		}

		html,
		body {
			width: 100%;
			height: 100%;
		}

		canvas {
			display: block;
		}
	</style>
</head>

<body>
	<canvas id="canvas"></canvas>
	<script>
		(function () {
			var canvas = document.getElementById('canvas'),
				context = canvas.getContext('2d');

			window.addEventListener('resize', resizeCanvas, false);

			function resizeCanvas() {
				canvas.width = window.innerWidth;
				canvas.height = window.innerHeight;

				drawStuff();
			}
			resizeCanvas();

			function drawStuff() {

				var centerX = canvas.width / 2;
				var centerY = canvas.height / 2;

				function drawCircle(coords) {
					var radius = 70;
					var coord = coords || randomCoord();
					context.beginPath();
					context.arc(coord.x, coord.y, radius, 0, 2 * Math.PI, false);
					context.fillStyle = randomColor();
					context.fill();
					context.lineWidth = 5;
					context.strokeStyle = '#222';
					context.stroke();
				}

				function randomCoord() {
					return {
						x: Math.floor(Math.random() * canvas.width),
						y: Math.floor(Math.random() * canvas.height)
					};
				}

				function rand(max) {
					return Math.floor(Math.random() * max);
				}

				function randomColor() {
					const colors = "#D50000 #FF1744 #4A148C #AB47BC #311B92 #1A237E #0D47A1 #01579B #004D40 #1B5E20 #33691E #827717 #F57F17 #FFD600 #E65100 #BF360C #3E2723 #212121 #263238".split(" ");
					return colors[rand(colors.length)];
				}

				function drawSquare(coord) {
					const p = coord || randomCoord()
					context.beginPath();
					context.rect(p.x, p.y, 150, 150);
					context.fillStyle = randomColor();
					context.fill();
					context.lineWidth = 7;
					context.strokeStyle = 'black';
					context.stroke();
				}

				function randEl(arr) {
					arr[rand(arr.length)];
				}

				function drawRectangle(coord) {
					const p = coord || randomCoord()
					context.beginPath();
					context.rect(p.x, p.y, 200, 100);
					context.fillStyle = randomColor();
					context.fill();
					context.lineWidth = 7;
					context.strokeStyle = 'black';
					context.stroke();
				}

				const letters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

				function randomLetter() {
					return letters.charAt(rand(letters.length));
				}

				function drawLetter(coord) {
					const p = coord || randomCoord();
					context.font = "120px Georgia";
					context.fillStyle = randomColor();
					context.fillText(randomLetter(), p.x, p.y);
				}

				function drawShape(coord) {
					coord = coord || randomCoord();
					var funs = [drawRectangle, drawCircle, drawSquare, drawLetter];
					funs[rand(funs.length)](coord);
				}

				window.drawLetter = drawLetter;

				function touch(e) {
					const coord = e.changedTouches[0];
					drawShape({
						x: coord.pageX,
						y: coord.pageY
					});
				}

				canvas.addEventListener("touchstart", touch, false);

				document.addEventListener('keypress', x => {
					drawShape();
				});

				document.addEventListener('click', drawShape);
			}

		})();
	</script>
</body>

</html>